<main>
    <header class="project-header">
        <h1 class="project-title">Cyberpunk Adventure Game</h1>
        <p class="project-subtitle">A neon-soaked open-world adventure with real-time ray tracing</p>
        <div class="project-meta">
            <span class="meta-item">üìÖ Released: October 2024</span>
            <span class="meta-item">‚è±Ô∏è Development: 18 months</span>
            <span class="meta-item">üë• Team: 3 developers</span>
        </div>
    </header>
    <style>
        * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: system-ui, -apple-system, sans-serif;
        line-height: 1.7;
        background-color: var(--background);
        color: var(--text);
        display: flex;
    }

    nav {
        background-color: var(--navbar);
        width: var(--nav-width);
        height: 100vh;
        position: fixed;
        padding: 2rem;
    }

    .nav-header {
        text-align: center;
        margin-bottom: 3rem;
        padding-bottom: 1.5rem;
        border-bottom: 2px solid var(--accent);
    }

    .nav-header h1 {
        color: var(--secondary);
        margin-bottom: 0.5rem;
    }

    .nav-header p {
        color: var(--text);
        font-size: 0.9rem;
    }

    nav ul {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    nav a {
        color: var(--text);
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s;
        font-size: 1.1rem;
        display: block;
        padding: 0.75rem 1rem;
        border-radius: 4px;
    }

    nav a:hover {
        color: var(--accent);
        background-color: var(--primary);
        transform: translateX(5px);
    }

    main {
        margin-left: var(--nav-width);
        flex-grow: 1;
        padding: 3rem;
        max-width: 1400px;
    }

    .back-link {
        display: inline-block;
        color: var(--secondary);
        text-decoration: none;
        margin-bottom: 2rem;
        font-weight: bold;
        transition: color 0.3s;
    }

    .back-link:hover {
        color: var(--accent);
    }

    .project-header {
        margin-bottom: 3rem;
        padding-bottom: 2rem;
    }

    .project-title {
        color: var(--secondary);
        font-size: 2.5rem;
        margin-bottom: 1rem;
    }

    .project-subtitle {
        color: var(--text);
        font-size: 1.2rem;
        margin-bottom: 1.5rem;
        opacity: 0.8;
    }

    .project-meta {
        display: flex;
        gap: 2rem;
        margin-bottom: 1rem;
        color: var(--text);
        font-weight: 500;
    }

    .meta-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .video-container {
        position: relative;
        width: 100%;
        padding-top: 56.25%;
        background-color: #000;
        margin-bottom: 3rem;
    }

    .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }

    .project-content {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 3rem;
        margin-bottom: 3rem;
    }

    .project-description {
        padding: 0;
    }

    .project-description h2 {
        color: var(--secondary);
        margin-bottom: 1.5rem;
        margin-top: 2rem;
        padding-bottom: 0.5rem;
    }

    .project-description h2:first-child {
        margin-top: 0;
    }

    .project-description h3 {
        color: var(--accent);
        margin-top: 1.5rem;
        margin-bottom: 1rem;
    }

    .project-description p {
        margin-bottom: 1.5rem;
        line-height: 1.8;
    }

    .project-description ul, .project-description ol {
        margin-left: 2rem;
        margin-bottom: 1.5rem;
    }

    .project-description li {
        margin-bottom: 0.5rem;
    }

    .project-description code {
        background-color: var(--primary);
        padding: 0.2rem 0.4rem;
        border-radius: 3px;
        font-family: 'Courier New', monospace;
    }

    .project-description pre {
        background-color: var(--primary);
        padding: 1rem;
        border-radius: 4px;
        overflow-x: auto;
        margin-bottom: 1.5rem;
    }

    .project-sidebar {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        position: sticky;
        top: 2rem;
        height: fit-content;
    }

    .sidebar-section {
        padding: 0;
    }

    .sidebar-section h3 {
        color: var(--secondary);
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
    }

    .section-nav {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .section-nav-link {
        color: var(--text);
        text-decoration: none;
        padding: 0.5rem 0.75rem;
        border-radius: 4px;
        transition: all 0.3s;
        font-size: 0.95rem;
    }

    .section-nav-link:hover {
        color: var(--accent);
        background-color: var(--primary);
        transform: translateX(5px);
    }

    .section-nav-link.active {
        color: var(--accent);
        font-weight: bold;
    }

    .tech-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .tech-tag {
        background-color: var(--secondary);
        color: white;
        padding: 0.4rem 0.9rem;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 500;
    }

    .stat-item {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
    }

    .stat-label {
        font-weight: 600;
        color: var(--text);
    }

    .stat-value {
        color: var(--secondary);
        font-weight: 500;
    }

    .link-button {
        display: block;
        width: 100%;
        padding: 0.9rem;
        margin-bottom: 0.75rem;
        background-color: var(--accent);
        color: white;
        text-decoration: none;
        text-align: center;
        border-radius: 6px;
        font-weight: bold;
        transition: all 0.3s;
    }

    .link-button:hover {
        background-color: var(--secondary);
        transform: translateY(-2px);
    }

    .link-button.secondary {
        background-color: transparent;
        color: var(--secondary);
        border: 2px solid var(--secondary);
    }

    .link-button.secondary:hover {
        background-color: var(--secondary);
        color: white;
    }

    .gallery {
        margin-top: 3rem;
    }

    .gallery h2 {
        color: var(--secondary);
        margin-bottom: 2rem;
        padding-bottom: 0.5rem;
    }

    .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
    }

    .gallery-item {
        transition: transform 0.3s;
    }

    .gallery-item:hover {
        transform: translateY(-5px);
    }

    .gallery-item img {
        width: 100%;
        height: 250px;
        object-fit: cover;
        display: block;
    }

    .gallery-caption {
        padding: 1rem 0;
        font-size: 0.9rem;
        color: var(--text);
    }

    @media (max-width: 1200px) {
        .project-content {
            grid-template-columns: 1fr;
        }

        .project-sidebar {
            position: static;
        }
    }

    @media (max-width: 768px) {
        body {
            flex-direction: column;
        }

        nav {
            position: static;
            width: 100%;
            height: auto;
            padding: 1rem;
        }

        .nav-header {
            margin-bottom: 1rem;
        }

        main {
            margin-left: 0;
            padding: 1.5rem;
        }

        .project-meta {
            flex-direction: column;
            gap: 0.5rem;
        }

        .gallery-grid {
            grid-template-columns: 1fr;
        }
    }
    </style>

    <div class="video-container">
        <!-- Replace with your actual video embed -->
        <iframe src="/api/placeholder/1920/1080" title="Project Demo Video" allowfullscreen></iframe>
    </div>

    <div class="project-content">
        <div class="project-description">
            <h2 id="overview">Project Overview</h2>
            <p>A neon-soaked adventure game built with Unity, featuring advanced lighting systems and procedural generation. This project showcases real-time ray tracing, dynamic weather systems, and adaptive AI behaviors that respond intelligently to player actions and environmental conditions.</p>

            <p>The game environment reacts to player choices and time of day, creating a truly immersive experience where every decision has meaningful consequences. The city breathes with life, featuring hundreds of NPCs with their own schedules and behavioral patterns.</p>

            <h2 id="features">Key Features</h2>

            <h3 id="raytracing">Advanced Ray Tracing Implementation</h3>
            <p>Custom-built ray tracing system that provides realistic lighting, reflections, and shadows in real-time. The system utilizes hybrid rendering techniques to maintain high performance while delivering photorealistic results.</p>
            
            <p>Our implementation includes:</p>
            <ul>
                <li>Real-time global illumination with temporal accumulation</li>
                <li>Accurate reflections and refractions on all surfaces</li>
                <li>Soft shadows with variable penumbra</li>
                <li>Custom denoising algorithm optimized for game content</li>
                <li>Variable rate shading for optimal performance</li>
            </ul>

            <h3 id="worldgen">Procedural World Generation</h3>
            <p>Developed a sophisticated procedural generation system that creates unique, detailed environments while maintaining artistic direction and game flow. The system uses wave function collapse algorithms combined with hand-crafted rules to ensure visual consistency and gameplay quality.</p>

            <h3 id="weather">Dynamic Weather System</h3>
            <p>Implemented a physically-based weather simulation that affects gameplay mechanics and visual appearance. Weather patterns influence NPC behavior, mission availability, and environmental hazards. Rain creates realistic puddles with proper reflection, fog reduces visibility dynamically, and storms can interrupt electronic systems.</p>

            <h2 id="technical">Technical Challenges</h2>
            <p>One of the main challenges was optimizing the ray tracing system for real-time performance on a variety of hardware configurations. We developed a custom denoising solution that maintains visual quality while running at 60+ FPS on mid-range GPUs.</p>

            <h3 id="optimization">Performance Optimization</h3>
            <p>Key optimization strategies included:</p>
            <ul>
                <li>Implementing a hybrid rendering pipeline combining rasterization and ray tracing</li>
                <li>Dynamic resolution scaling based on GPU load</li>
                <li>Adaptive sampling rates for different surface types</li>
                <li>Memory optimization for scene data structures</li>
                <li>Multi-threaded job system for CPU-side processing</li>
            </ul>

            <h3 id="ai">AI System Architecture</h3>
            <p>The NPC AI uses a hierarchical state machine with behavior trees for decision-making. Each NPC has awareness of their surroundings, memory of past events, and goals they're trying to achieve. The system scales to handle hundreds of active NPCs simultaneously without performance degradation.</p>

            <h2 id="development">Development Process</h2>
            <p>The project followed an iterative development cycle with weekly prototypes and extensive performance profiling. We used Unity's HDRP as a foundation but heavily customized the rendering pipeline to achieve our specific visual targets.</p>

            <p>Regular playtesting sessions helped identify usability issues and guided gameplay refinements. We maintained a strong focus on player feedback throughout development, resulting in numerous improvements to controls, UI, and game pacing.</p>
        </div>

        <aside class="project-sidebar">
            <div class="sidebar-section">
                <h3>Technologies Used</h3>
                <div class="tech-list">
                    <span class="tech-tag">Unity</span>
                    <span class="tech-tag">C#</span>
                    <span class="tech-tag">HLSL</span>
                    <span class="tech-tag">Ray Tracing</span>
                    <span class="tech-tag">Compute Shaders</span>
                    <span class="tech-tag">HDRP</span>
                    <span class="tech-tag">Git</span>
                </div>
            </div>
            
            <div class="sidebar-section" id="section-nav-container">
                <h3>In this Section</h3>
                <div class="section-nav" id="section-nav">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </aside>
    </div>

    <section class="gallery">
        <h2 id="gallery">Project Gallery</h2>
        <div class="gallery-grid">
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 1">
                <div class="gallery-caption">Dynamic lighting showcase with volumetric fog</div>
            </div>
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 2">
                <div class="gallery-caption">Ray-traced reflections on wet surfaces</div>
            </div>
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 3">
                <div class="gallery-caption">Procedurally generated cityscape</div>
            </div>
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 4">
                <div class="gallery-caption">Weather system in action</div>
            </div>
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 5">
                <div class="gallery-caption">NPC behavior and crowd simulation</div>
            </div>
            <div class="gallery-item">
                <img src="/api/placeholder/400/250" alt="Gameplay Screenshot 6">
                <div class="gallery-caption">Night-time atmospheric effects</div>
            </div>
        </div>
    </section>
</main>

<script>
    const sections = {
        overview: [],
        features: [
            { id: 'raytracing', text: 'Advanced Ray Tracing' },
            { id: 'worldgen', text: 'Procedural World Generation' },
            { id: 'weather', text: 'Dynamic Weather System' }
        ],
        technical: [
            { id: 'optimization', text: 'Performance Optimization' },
            { id: 'ai', text: 'AI System Architecture' }
        ],
        development: [],
        gallery: []
    };

    let currentSection = 'overview';
    const sectionNavContainer = document.getElementById('section-nav');

    function updateSectionNav(section) {
        if (currentSection === section) return;
        currentSection = section;

        const subsections = sections[section];
        
        if (subsections && subsections.length > 0) {
            sectionNavContainer.innerHTML = subsections.map(sub => 
                `<a href="#${sub.id}" class="section-nav-link">${sub.text}</a>`
            ).join('');
        } else {
            sectionNavContainer.innerHTML = '<p style="color: var(--text); opacity: 0.6; font-size: 0.9rem;">No subsections</p>';
        }
    }

    // Intersection Observer to detect current section
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.id;
                if (sections[id]) {
                    updateSectionNav(id);
                }
            }
        });
    }, {
        rootMargin: '-100px 0px -60% 0px'
    });

    // Observe all main sections
    Object.keys(sections).forEach(section => {
        const element = document.getElementById(section);
        if (element) {
            observer.observe(element);
        }
    });

    // Initialize with overview
    updateSectionNav('overview');

    // Highlight active subsection link
    document.addEventListener('scroll', () => {
        const links = document.querySelectorAll('.section-nav-link');
        links.forEach(link => {
            const targetId = link.getAttribute('href').substring(1);
            const target = document.getElementById(targetId);
            if (target) {
                const rect = target.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            }
        });
    });
</script>